Post Test Suite Processing --- how to zip the Report Folder in Katalon Studio
====

This is a small [Katalon Studio](https://www.katalon.com/katalon-studio/) project for demonstration purpose.

You can download the zip at the [releases page](https://github.com/kazurayam/Post_TestSuite_processing/releases).

This project was developed using Katalon Studio v8.1.0 but is not dependent on the KS version.
It should work on every versions of KS.

This project is meant to propose a solution to the discussion raised in Katalon Forum at

- [How to zip the Report Folder](https://forum.katalon.com/t/how-to-zip-the-report-folder/58763)

## Demonstration

Please download this project, open it with your local Katalon Studio, run a Test Suite Collection named `TSC`. It would demonstrate a few points, which would be interesing for those who want to *zip the Report Folder created by Test Suites*.

1. Open a Test Suite Collection named `Test Suites/TCS`. It comprises with 2 Test Suites.
  * `Test Suites/TS1`
  * `Test Suites/TS_post_TS1_processing`
1. Click the Execute button to run it. It will run for a few seconds. ![01_TSC](docs/images/01_TSC.png)
1. The `TSC` will run for a few seconds. *It will fail*. It fails intentionally for demostration purpose. Don't mind it.
1. Once `TSC` finished, a folder named `out` will be be created under the project directory. However, Katalon Studio has a bug; *the new `out` folder will not be displayed in the Test Explorer pane*. So, please close the project once and reopen it in order to let Katalon Studio be acknowled of the new `out` folder. ![02_out](docs/images/02_out_folder.png)
1. In the `out` folder, you will find two files created by the `TSC`. Here `yyyyMMdd_hhmmss` represent a varying timestamp.
  * `out/consume_TS_report.sh`
  * `out/Reports_yyyyMMdd_hhmmss.zip`
5. Please check the content of the `Reports_yyyyMMdd_hhmmss.zip` file using your favorite archiver tool. In the zip file, the contents of the `Reports/yyyyMMdd_hhmmss/TS1/yyyyMMdd_hhss2` folder is archived. It contains the test report in HTML/CSV/XML generated by a Test Suite named `Test Suites/TS1`. ![03_zip](docs/images/03_zip.png)
6. The `Test Suite/TS1` calls a Test Case `TC1`, which does nothing special, is as simple as this:
```
import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI

WebUI.comment("TC1 started")
WebUI.comment("You can do whatever you like to here")
WebUI.comment("TC1 finsihed")
```
7. The Report of `Test Suite/TS1` were generated into the folder `Reports/yyyyMMdd_hhmmss/TS1/yyyyMMdd_hhss2`. And after `TS1`, another Test Suite `TS_post_TS1_processing` is executed. It makes the zip file at `out/Reports_yyyyMMdd_hhmmss.zip`.

In short, this demo demonstrates how to make a zip file of Reports generated by a Test Suite execution.

## Problem to solve

Katalon Studio users often want to make a zip file of the Report created when they execute 
a Test Suite. It is easily accomplished manually after the Test Suite has finished. Just open
the project folder using Windows Explorer; dig into the `<projectDir>/Reports/yyyyMMdd_hhmmss/testSuiteName/yyyyMMdd_hhmmss' folder; right-click the folder and choose "zip it" menu. You are done. You will get a zip file. But they want to automate this zipping process. They sometimes want to do more.

1. they want to create a zip file
2. they want to transfer the zip file to somewhere via E-Mail, or to shared File server, etc.

How can they automate such post-test processing as a part of the test suite(s) in Katlaon Studio?

You will encounter 2 technical challenges.

### Timing problem when the Resport is generated



### How to execute commandline script from Katlaon scripts (Test Cases, Test Listener)

## Proposed solution

## Description

## Issues 

In this demo project, I used Mac osX, not Windows. I targeted "bash" command-line interpreter, which is not avaiable on Windows as default.

If you want a solution for Windoows, you can create your own by rewriting this project targeting **PowerShell** in mind. It should work. PowerShell is generally available in Windows10.

